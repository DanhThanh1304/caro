<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cờ Caro Pro - Trang Chủ</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
  </head>
  <body>
    <div class="home-wrapper">
      <div class="glass-panel home-panel">
        <header class="home-header">
          <i class="fas fa-chess-board logo-icon"></i>
          <h1>CỜ <span class="highlight">CARO</span></h1>
          <p class="subtitle">Thử thách trí tuệ đỉnh cao</p>
        </header>

        <div class="menu-options">
          <div class="menu-group">
            <h3><i class="fas fa-robot"></i> Chơi với AI</h3>
            <a href="/game?mode=easy" class="btn-menu easy">
              <span>Dễ</span>
            </a>
            <a href="/game?mode=medium" class="btn-menu medium">
              <span>Trung Bình</span>
            </a>
            <a href="/game?mode=hard" class="btn-menu hard">
              <span>Khó (Pro)</span>
            </a>
          </div>

          <div class="menu-divider"><span>HOẶC</span></div>

          <div class="menu-group">
            <h3><i class="fas fa-user-friends"></i> Hai Người</h3>
            <a href="/game?mode=pvp" class="btn-menu pvp">
              <span>Người vs Người</span>
            </a>
          </div>
        </div>

        <div class="turn-selection">
          <p class="selection-label">Chọn lượt đi:</p>
          <div class="radio-group">
            <label class="radio-container">
              <input
                type="radio"
                name="start_side"
                value="1"
                checked
                onchange="updateLinks()"
              />
              <span class="checkmark"></span>
              X (đi trước)
            </label>
            <label class="radio-container">
              <input
                type="radio"
                name="start_side"
                value="2"
                onchange="updateLinks()"
              />
              <span class="checkmark"></span>
              O (đi sau)
            </label>
          </div>
        </div>

        <script>
          function updateLinks() {
            const side = document.querySelector(
              'input[name="start_side"]:checked'
            ).value;
            const links = document.querySelectorAll(".btn-menu");

            links.forEach((link) => {
              let href = link.getAttribute("href");
              const url = new URL(href, window.location.origin);

              url.searchParams.set("start", side);

              link.setAttribute("href", url.pathname + url.search);
            });
          }

          updateLinks();
        </script>

        <footer class="home-footer">
          <p>Designed by group 15</p>
        </footer>
      </div>
    </div>
  </body>
</html>
